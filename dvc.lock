schema: '2.0'
stages:
  tfrecords:
    cmd: papermill notebooks/albumentations_and_patchify-v1-sentinel.ipynb notebook_output/albumentations_and_patchify-v1-sentinel.ipynb
    deps:
    - path: Smaller_pond_sentinel_data_v1/Images/
      md5: b656bd5787bade1753ac1eca1ac39e94.dir
      size: 1153458432
      nfiles: 24
    - path: Smaller_pond_sentinel_data_v1/Masks/
      md5: efacf343d917c34e9556bac56137e12d.dir
      size: 312554862
      nfiles: 24
    - path: notebooks/albumentations_and_patchify-v1-sentinel.ipynb
      md5: b94d4621a805535d05a9d3ae5bb2eff4
      size: 60168
    params:
      params.yaml:
        tfrecords_creation.Image_patch_size:
        - 256
        - 256
        - 3
        tfrecords_creation.Mask_patch_size:
        - 256
        - 256
    outs:
    - path: tfrecords/
      md5: b09344267f797202a1c6a66cfaf28902.dir
      size: 7399210896
      nfiles: 15
  training:
    cmd: papermill notebooks/deeplabv3plus_squeeze_excitation.ipynb notebook_output/deeplabv3plus_squeeze_excitation.ipynb
    deps:
    - path: clr_callback.py
      md5: 6dc46cdd0e93eb9a7bc7c66080d48af0
      size: 5398
    - path: loss.py
      md5: d6cb8a1b8b32984dffa550f6174151b7
      size: 1437
    - path: notebooks/deeplabv3plus_squeeze_excitation.ipynb
      md5: 5932d69169af182a83bf2f5bd2acc930
      size: 25887
    - path: tfrecords/
      md5: b09344267f797202a1c6a66cfaf28902.dir
      size: 7399210896
      nfiles: 15
    params:
      params.yaml:
        model_params.Batch_size: 16
        model_params.Epochs: 500
        model_params.Image_patch_size:
        - 256
        - 256
        - 3
        model_params.Learning_rate: 0.0001
        model_params.Mask_patch_size:
        - 256
        - 256
        model_params.Number_of_classes: 2
        model_params.Optimizer: nadam
        model_params.Scheduler: Cycliclearning_rate
    outs:
    - path: confusion_matrix.png
      md5: a1f76335d869572d973678a23fe3a525
      size: 9978
    - path: evaluation/metrics.json
      md5: 997dae7e3377ac1bc8efd43caf45f952
      size: 379
    - path: evaluation/plots
      md5: bab9c7051b6790854f3896baae0d916b.dir
      size: 11760
      nfiles: 8
    - path: evaluation/report.html
      md5: 503611fd18360be3fb7646b6c10be181
      size: 76103
    - path: model_checkpoint/
      md5: 495edf0a12ce2ef1fb4ccd1038c2685c.dir
      size: 158106752
      nfiles: 1
